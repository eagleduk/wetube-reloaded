(()=>{function e(e,t,n,r,a,o,c){try{var i=e[o](c),d=i.value}catch(e){return void n(e)}i.done?t(d):Promise.resolve(d).then(r,a)}var t=document.getElementById("videoContainer"),n=document.getElementById("commentForm"),r=document.querySelector("div.video__comments"),a=function(e){var t=e.target.parentNode,n=t.dataset.id;console.log(n),fetch("/api/comment/".concat(n),{method:"DELETE",headers:{"Content-Type":"application/json"}}),t.remove()},o=function(e,t){var n=document.querySelector(".video__comments ul"),r=document.createElement("li");r.dataset.id=t,r.className="video__comment";var o=document.createElement("i");o.className="fas fa-comment";var c=document.createElement("span");c.innerText=" ".concat(e);var i=document.createElement("span");i.classList="deleteBtn",i.innerText="‚ùå",i.addEventListener("click",a),r.appendChild(o),r.appendChild(c),r.appendChild(i),n.prepend(r)},c=function(){var r,a=(r=regeneratorRuntime.mark((function e(r){var a,c,i,d,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),a=n.querySelector("textarea"),c=a.value,i=t.dataset.id,""!==c){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,fetch("/api/video/".concat(i,"/comment"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:c})});case 8:if(201!==(d=e.sent).status){e.next=16;break}return a.value="",e.next=13,d.json();case 13:s=e.sent,u=s.newCommentId,o(c,u);case 16:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,o){var c=r.apply(t,n);function i(t){e(c,a,o,i,d,"next",t)}function d(t){e(c,a,o,i,d,"throw",t)}i(void 0)}))});return function(e){return a.apply(this,arguments)}}();n&&(n.addEventListener("submit",c),r.querySelectorAll("span.deleteBtn").forEach((function(e){e.addEventListener("click",a)})))})();